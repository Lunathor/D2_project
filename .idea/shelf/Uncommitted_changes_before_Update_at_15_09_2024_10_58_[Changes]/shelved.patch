Index: .idea/workspace.xml
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+><?xml version=\"1.0\" encoding=\"UTF-8\"?>\r\n<project version=\"4\">\r\n  <component name=\"AutoImportSettings\">\r\n    <option name=\"autoReloadType\" value=\"SELECTIVE\" />\r\n  </component>\r\n  <component name=\"ChangeListManager\">\r\n    <list default=\"true\" id=\"d0deffc4-fb07-42b6-bdb8-f1c7c46d25d2\" name=\"Changes\" comment=\"пытаемся локализовать админку\" />\r\n    <option name=\"SHOW_DIALOG\" value=\"false\" />\r\n    <option name=\"HIGHLIGHT_CONFLICTS\" value=\"true\" />\r\n    <option name=\"HIGHLIGHT_NON_ACTIVE_CHANGELIST\" value=\"false\" />\r\n    <option name=\"LAST_RESOLUTION\" value=\"IGNORE\" />\r\n  </component>\r\n  <component name=\"FileTemplateManagerImpl\">\r\n    <option name=\"RECENT_TEMPLATES\">\r\n      <list>\r\n        <option value=\"HTML File\" />\r\n        <option value=\"Python Script\" />\r\n      </list>\r\n    </option>\r\n  </component>\r\n  <component name=\"Git.Settings\">\r\n    <option name=\"RECENT_GIT_ROOT_PATH\" value=\"$PROJECT_DIR$\" />\r\n  </component>\r\n  <component name=\"GitHubPullRequestSearchHistory\">{\r\n  &quot;lastFilter&quot;: {\r\n    &quot;state&quot;: &quot;OPEN&quot;,\r\n    &quot;assignee&quot;: &quot;Lunathor&quot;\r\n  }\r\n}</component>\r\n  <component name=\"GithubPullRequestsUISettings\">{\r\n  &quot;selectedUrlAndAccountId&quot;: {\r\n    &quot;url&quot;: &quot;https://github.com/Lunathor/D2_project.git&quot;,\r\n    &quot;accountId&quot;: &quot;681dd5da-2b41-43bf-a0c8-a9e799f38ba3&quot;\r\n  }\r\n}</component>\r\n  <component name=\"ProjectColorInfo\">{\r\n  &quot;associatedIndex&quot;: 5\r\n}</component>\r\n  <component name=\"ProjectId\" id=\"2f6i0UoPuml6ORavZKVX5IKOpqG\" />\r\n  <component name=\"ProjectLevelVcsManager\" settingsEditedManually=\"true\">\r\n    <ConfirmationsSetting value=\"2\" id=\"Add\" />\r\n  </component>\r\n  <component name=\"ProjectViewState\">\r\n    <option name=\"hideEmptyMiddlePackages\" value=\"true\" />\r\n    <option name=\"showLibraryContents\" value=\"true\" />\r\n  </component>\r\n  <component name=\"PropertiesComponent\">{\r\n  &quot;keyToString&quot;: {\r\n    &quot;ASKED_ADD_EXTERNAL_FILES&quot;: &quot;true&quot;,\r\n    &quot;DefaultHtmlFileTemplate&quot;: &quot;HTML File&quot;,\r\n    &quot;RunOnceActivity.ShowReadmeOnStart&quot;: &quot;true&quot;,\r\n    &quot;git-widget-placeholder&quot;: &quot;main&quot;,\r\n    &quot;ignore.virus.scanning.warn.message&quot;: &quot;true&quot;,\r\n    &quot;last_opened_file_path&quot;: &quot;C:/Users/syumi/PycharmProjects/D2_project/NewsPaper&quot;,\r\n    &quot;settings.editor.selected.configurable&quot;: &quot;org.jetbrains.plugins.github.ui.GithubSettingsConfigurable&quot;\r\n  },\r\n  &quot;keyToStringList&quot;: {\r\n    &quot;ChangesTree.GroupingKeys&quot;: []\r\n  }\r\n}</component>\r\n  <component name=\"RecentsManager\">\r\n    <key name=\"CopyFile.RECENT_KEYS\">\r\n      <recent name=\"C:\\Users\\syumi\\PycharmProjects\\D2_project\\NewsPaper\" />\r\n    </key>\r\n  </component>\r\n  <component name=\"SharedIndexes\">\r\n    <attachedChunks>\r\n      <set>\r\n        <option value=\"bundled-python-sdk-0509580d9d50-746f403e7f0c-com.jetbrains.pycharm.community.sharedIndexes.bundled-PC-241.14494.241\" />\r\n      </set>\r\n    </attachedChunks>\r\n  </component>\r\n  <component name=\"SpellCheckerSettings\" RuntimeDictionaries=\"0\" Folders=\"0\" CustomDictionaries=\"0\" DefaultDictionary=\"application-level\" UseSingleDictionary=\"true\" transferred=\"true\" />\r\n  <component name=\"TaskManager\">\r\n    <task active=\"true\" id=\"Default\" summary=\"Default task\">\r\n      <changelist id=\"d0deffc4-fb07-42b6-bdb8-f1c7c46d25d2\" name=\"Changes\" comment=\"\" />\r\n      <created>1713127705117</created>\r\n      <option name=\"number\" value=\"Default\" />\r\n      <option name=\"presentableId\" value=\"Default\" />\r\n      <updated>1713127705117</updated>\r\n    </task>\r\n    <task id=\"LOCAL-00001\" summary=\"initial commit\">\r\n      <option name=\"closed\" value=\"true\" />\r\n      <created>1713591243925</created>\r\n      <option name=\"number\" value=\"00001\" />\r\n      <option name=\"presentableId\" value=\"LOCAL-00001\" />\r\n      <option name=\"project\" value=\"LOCAL\" />\r\n      <updated>1713591243925</updated>\r\n    </task>\r\n    <task id=\"LOCAL-00002\" summary=\"initial commit\">\r\n      <option name=\"closed\" value=\"true\" />\r\n      <created>1713591300066</created>\r\n      <option name=\"number\" value=\"00002\" />\r\n      <option name=\"presentableId\" value=\"LOCAL-00002\" />\r\n      <option name=\"project\" value=\"LOCAL\" />\r\n      <updated>1713591300066</updated>\r\n    </task>\r\n    <task id=\"LOCAL-00003\" summary=\"initial commit\">\r\n      <option name=\"closed\" value=\"true\" />\r\n      <created>1713591680550</created>\r\n      <option name=\"number\" value=\"00003\" />\r\n      <option name=\"presentableId\" value=\"LOCAL-00003\" />\r\n      <option name=\"project\" value=\"LOCAL\" />\r\n      <updated>1713591680550</updated>\r\n    </task>\r\n    <task id=\"LOCAL-00004\" summary=\"ex's of SkillFactory D2 FinallTest\">\r\n      <option name=\"closed\" value=\"true\" />\r\n      <created>1713630990481</created>\r\n      <option name=\"number\" value=\"00004\" />\r\n      <option name=\"presentableId\" value=\"LOCAL-00004\" />\r\n      <option name=\"project\" value=\"LOCAL\" />\r\n      <updated>1713630990481</updated>\r\n    </task>\r\n    <task id=\"LOCAL-00005\" summary=\"some frontend initiated\">\r\n      <option name=\"closed\" value=\"true\" />\r\n      <created>1713820331654</created>\r\n      <option name=\"number\" value=\"00005\" />\r\n      <option name=\"presentableId\" value=\"LOCAL-00005\" />\r\n      <option name=\"project\" value=\"LOCAL\" />\r\n      <updated>1713820331654</updated>\r\n    </task>\r\n    <task id=\"LOCAL-00006\" summary=\"some frontend changes\">\r\n      <option name=\"closed\" value=\"true\" />\r\n      <created>1713821039854</created>\r\n      <option name=\"number\" value=\"00006\" />\r\n      <option name=\"presentableId\" value=\"LOCAL-00006\" />\r\n      <option name=\"project\" value=\"LOCAL\" />\r\n      <updated>1713821039854</updated>\r\n    </task>\r\n    <task id=\"LOCAL-00007\" summary=\"Добавлен табличный вывод новостей\">\r\n      <option name=\"closed\" value=\"true\" />\r\n      <created>1714042059794</created>\r\n      <option name=\"number\" value=\"00007\" />\r\n      <option name=\"presentableId\" value=\"LOCAL-00007\" />\r\n      <option name=\"project\" value=\"LOCAL\" />\r\n      <updated>1714042059794</updated>\r\n    </task>\r\n    <task id=\"LOCAL-00008\" summary=\"Улучшено DetailedView для Каждой отдельно взятой новости\">\r\n      <option name=\"closed\" value=\"true\" />\r\n      <created>1714042433258</created>\r\n      <option name=\"number\" value=\"00008\" />\r\n      <option name=\"presentableId\" value=\"LOCAL-00008\" />\r\n      <option name=\"project\" value=\"LOCAL\" />\r\n      <updated>1714042433258</updated>\r\n    </task>\r\n    <task id=\"LOCAL-00009\" summary=\"Улучшено DetailedView для Каждой отдельно взятой новости\">\r\n      <option name=\"closed\" value=\"true\" />\r\n      <created>1714042496850</created>\r\n      <option name=\"number\" value=\"00009\" />\r\n      <option name=\"presentableId\" value=\"LOCAL-00009\" />\r\n      <option name=\"project\" value=\"LOCAL\" />\r\n      <updated>1714042496850</updated>\r\n    </task>\r\n    <task id=\"LOCAL-00010\" summary=\"Улучшено DetailedView для Каждой отдельно взятой новости\">\r\n      <option name=\"closed\" value=\"true\" />\r\n      <created>1714053608408</created>\r\n      <option name=\"number\" value=\"00010\" />\r\n      <option name=\"presentableId\" value=\"LOCAL-00010\" />\r\n      <option name=\"project\" value=\"LOCAL\" />\r\n      <updated>1714053608408</updated>\r\n    </task>\r\n    <task id=\"LOCAL-00011\" summary=\"Добавлены фильтры и теги, упразднен метод get_context_data в views.py и заменен на фильтр current_time.&#10;Создан фильтр цензурирующий, не желательный контекст (сейчас для примера написано содержание одной из статей)\">\r\n      <option name=\"closed\" value=\"true\" />\r\n      <created>1714211201883</created>\r\n      <option name=\"number\" value=\"00011\" />\r\n      <option name=\"presentableId\" value=\"LOCAL-00011\" />\r\n      <option name=\"project\" value=\"LOCAL\" />\r\n      <updated>1714211201883</updated>\r\n    </task>\r\n    <task id=\"LOCAL-00012\" summary=\"Добавлена пагинация, в админ панель, зарегистрированы модели категории и категории постов. Подключено приложение DJango-filters.\">\r\n      <option name=\"closed\" value=\"true\" />\r\n      <created>1714643554010</created>\r\n      <option name=\"number\" value=\"00012\" />\r\n      <option name=\"presentableId\" value=\"LOCAL-00012\" />\r\n      <option name=\"project\" value=\"LOCAL\" />\r\n      <updated>1714643554010</updated>\r\n    </task>\r\n    <task id=\"LOCAL-00013\" summary=\"попытка на создание фильтрации из итогового задания D4, фильтрация по названию (title) поста добавлена успешно, попытка на создание фильтрации по сквозному полю не работает почему то (обращусь к координатору и допилю)\">\r\n      <option name=\"closed\" value=\"true\" />\r\n      <created>1714647101448</created>\r\n      <option name=\"number\" value=\"00013\" />\r\n      <option name=\"presentableId\" value=\"LOCAL-00013\" />\r\n      <option name=\"project\" value=\"LOCAL\" />\r\n      <updated>1714647101448</updated>\r\n    </task>\r\n    <task id=\"LOCAL-00014\" summary=\"попытка на создание фильтрации из итогового задания D4, фильтрация по названию (title) поста добавлена успешно, попытка на создание фильтрации по сквозному полю не работает почему то (обращусь к координатору и допилю)\">\r\n      <option name=\"closed\" value=\"true\" />\r\n      <created>1714653615349</created>\r\n      <option name=\"number\" value=\"00014\" />\r\n      <option name=\"presentableId\" value=\"LOCAL-00014\" />\r\n      <option name=\"project\" value=\"LOCAL\" />\r\n      <updated>1714653615349</updated>\r\n    </task>\r\n    <task id=\"LOCAL-00015\" summary=\"Я Да*н я поменял ForignKey в модели PostCategory и не сделал миграции из за чего оно не работало, но я вспомнил об этом поэтому я все равно умничка :)\">\r\n      <option name=\"closed\" value=\"true\" />\r\n      <created>1714654745371</created>\r\n      <option name=\"number\" value=\"00015\" />\r\n      <option name=\"presentableId\" value=\"LOCAL-00015\" />\r\n      <option name=\"project\" value=\"LOCAL\" />\r\n      <updated>1714654745371</updated>\r\n    </task>\r\n    <task id=\"LOCAL-00016\" summary=\"Созданы страницы создания статей и новостей (честно пока не понял к чему это разделение). Доработан шаблон default.html чтобы сделать кнопки интерактивными, далее будут сделаны edit и delete страницы\">\r\n      <option name=\"closed\" value=\"true\" />\r\n      <created>1714733345648</created>\r\n      <option name=\"number\" value=\"00016\" />\r\n      <option name=\"presentableId\" value=\"LOCAL-00016\" />\r\n      <option name=\"project\" value=\"LOCAL\" />\r\n      <updated>1714733345648</updated>\r\n    </task>\r\n    <task id=\"LOCAL-00017\" summary=\"Реализованы Update и Delete, я не понял зачем разделять эти функции для статей и новостей если в любом случае когда мы создаем что-то из этого мы возвращаемся в PostDetail по адресу news/&lt;int:pk&gt;, и к нему можно просто добавить /update или /delete. Хотелось бы реализовать кнопки которые бы переслали на Update и Delete но я пока не знаю и не понимаю как это сделать html будет позже в курсе. Спросил в пачке, но мне пока не ответили.\">\r\n      <option name=\"closed\" value=\"true\" />\r\n      <created>1714737231966</created>\r\n      <option name=\"number\" value=\"00017\" />\r\n      <option name=\"presentableId\" value=\"LOCAL-00017\" />\r\n      <option name=\"project\" value=\"LOCAL\" />\r\n      <updated>1714737231966</updated>\r\n    </task>\r\n    <task id=\"LOCAL-00018\" summary=\"Добавил долгожданные для себя кнопки действий. В целом подогнал под прогресс D5.4, чтобы потом легче было и прогресс обоих приложений шел равномерно.\">\r\n      <option name=\"closed\" value=\"true\" />\r\n      <created>1715114715241</created>\r\n      <option name=\"number\" value=\"00018\" />\r\n      <option name=\"presentableId\" value=\"LOCAL-00018\" />\r\n      <option name=\"project\" value=\"LOCAL\" />\r\n      <updated>1715114715241</updated>\r\n    </task>\r\n    <task id=\"LOCAL-00019\" summary=\"В navbar добавил две кнопки login и signup\">\r\n      <option name=\"closed\" value=\"true\" />\r\n      <created>1715179682664</created>\r\n      <option name=\"number\" value=\"00019\" />\r\n      <option name=\"presentableId\" value=\"LOCAL-00019\" />\r\n      <option name=\"project\" value=\"LOCAL\" />\r\n      <updated>1715179682664</updated>\r\n    </task>\r\n    <task id=\"LOCAL-00020\" summary=\"Добавлена группа authors и common users. Новым пользователям зарегистрированным через почту присваивается группа common users. Группе authors выданы права post view, post add, post change, post delete. Ограничены по провам некоторые ссылки: в таблице Изменить и удалить; В navbar'е Create News Create Article. Эти ссылки будут видны только у пользователя принадлежащего к группе authors. &#10;Есть вопрос как присвоить кому то даже с группой authors, в модели Author потому что в группе authors несколько пользователей, но эти же пользователи не появились в модели Author и при создании нового поста даже с нового аккаунта я все равно могу поставить автором только изначальных двух, при том что создает ее уже совершенно новый пользователь.\">\r\n      <option name=\"closed\" value=\"true\" />\r\n      <created>1715183017064</created>\r\n      <option name=\"number\" value=\"00020\" />\r\n      <option name=\"presentableId\" value=\"LOCAL-00020\" />\r\n      <option name=\"project\" value=\"LOCAL\" />\r\n      <updated>1715183017064</updated>\r\n    </task>\r\n    <task id=\"LOCAL-00021\" summary=\"Подключен пакет django-apscheduler, проведены миграции\">\r\n      <option name=\"closed\" value=\"true\" />\r\n      <created>1716131655053</created>\r\n      <option name=\"number\" value=\"00021\" />\r\n      <option name=\"presentableId\" value=\"LOCAL-00021\" />\r\n      <option name=\"project\" value=\"LOCAL\" />\r\n      <updated>1716131655053</updated>\r\n    </task>\r\n    <task id=\"LOCAL-00022\" summary=\"Создана модель Подписок, в настройки добавлены строки настроек содединения почтового сервера яндекса, далее буду реализовывать отправку писем при регистрации, пользователю и подтверждение почты\">\r\n      <option name=\"closed\" value=\"true\" />\r\n      <created>1716135566086</created>\r\n      <option name=\"number\" value=\"00022\" />\r\n      <option name=\"presentableId\" value=\"LOCAL-00022\" />\r\n      <option name=\"project\" value=\"LOCAL\" />\r\n      <updated>1716135566086</updated>\r\n    </task>\r\n    <task id=\"LOCAL-00023\" summary=\"Change models.py subscriber\">\r\n      <option name=\"closed\" value=\"true\" />\r\n      <created>1716135661304</created>\r\n      <option name=\"number\" value=\"00023\" />\r\n      <option name=\"presentableId\" value=\"LOCAL-00023\" />\r\n      <option name=\"project\" value=\"LOCAL\" />\r\n      <updated>1716135661304</updated>\r\n    </task>\r\n    <task id=\"LOCAL-00024\" summary=\"Change models.py subscriber\">\r\n      <option name=\"closed\" value=\"true\" />\r\n      <created>1716135684133</created>\r\n      <option name=\"number\" value=\"00024\" />\r\n      <option name=\"presentableId\" value=\"LOCAL-00024\" />\r\n      <option name=\"project\" value=\"LOCAL\" />\r\n      <updated>1716135684133</updated>\r\n    </task>\r\n    <task id=\"LOCAL-00025\" summary=\"Подтверждение почты при регистрации и кастомное сообщение к нему\">\r\n      <option name=\"closed\" value=\"true\" />\r\n      <created>1716136882156</created>\r\n      <option name=\"number\" value=\"00025\" />\r\n      <option name=\"presentableId\" value=\"LOCAL-00025\" />\r\n      <option name=\"project\" value=\"LOCAL\" />\r\n      <updated>1716136882156</updated>\r\n    </task>\r\n    <task id=\"LOCAL-00026\" summary=\"Добавлен интерфейс подписок\">\r\n      <option name=\"closed\" value=\"true\" />\r\n      <created>1716138480797</created>\r\n      <option name=\"number\" value=\"00026\" />\r\n      <option name=\"presentableId\" value=\"LOCAL-00026\" />\r\n      <option name=\"project\" value=\"LOCAL\" />\r\n      <updated>1716138480797</updated>\r\n    </task>\r\n    <task id=\"LOCAL-00027\" summary=\"Добавил у залогиненого пользователя в navbar кнопку подписки\">\r\n      <option name=\"closed\" value=\"true\" />\r\n      <created>1716139360691</created>\r\n      <option name=\"number\" value=\"00027\" />\r\n      <option name=\"presentableId\" value=\"LOCAL-00027\" />\r\n      <option name=\"project\" value=\"LOCAL\" />\r\n      <updated>1716139360691</updated>\r\n    </task>\r\n    <task id=\"LOCAL-00028\" summary=\"Пробую добавить m2m_changed сигнал на создание нового поста\">\r\n      <option name=\"closed\" value=\"true\" />\r\n      <created>1716140883057</created>\r\n      <option name=\"number\" value=\"00028\" />\r\n      <option name=\"presentableId\" value=\"LOCAL-00028\" />\r\n      <option name=\"project\" value=\"LOCAL\" />\r\n      <updated>1716140883057</updated>\r\n    </task>\r\n    <task id=\"LOCAL-00029\" summary=\"Инициализация runapscheduler.py понимаю как настроить переодичность, по пока не понимаю как сделать фильтрацию за неделю исключив прошлый посты\">\r\n      <option name=\"closed\" value=\"true\" />\r\n      <created>1716149126653</created>\r\n      <option name=\"number\" value=\"00029\" />\r\n      <option name=\"presentableId\" value=\"LOCAL-00029\" />\r\n      <option name=\"project\" value=\"LOCAL\" />\r\n      <updated>1716149126653</updated>\r\n    </task>\r\n    <task id=\"LOCAL-00030\" summary=\"Сделан m2m_changed сигнал\">\r\n      <option name=\"closed\" value=\"true\" />\r\n      <created>1716202254633</created>\r\n      <option name=\"number\" value=\"00030\" />\r\n      <option name=\"presentableId\" value=\"LOCAL-00030\" />\r\n      <option name=\"project\" value=\"LOCAL\" />\r\n      <updated>1716202254633</updated>\r\n    </task>\r\n    <task id=\"LOCAL-00031\" summary=\"Доделан runapscheduler.py\">\r\n      <option name=\"closed\" value=\"true\" />\r\n      <created>1716203235578</created>\r\n      <option name=\"number\" value=\"00031\" />\r\n      <option name=\"presentableId\" value=\"LOCAL-00031\" />\r\n      <option name=\"project\" value=\"LOCAL\" />\r\n      <updated>1716203235578</updated>\r\n    </task>\r\n    <task id=\"LOCAL-00032\" summary=\"добавлен шаблон сообщения к runapscheduler\">\r\n      <option name=\"closed\" value=\"true\" />\r\n      <created>1716203579159</created>\r\n      <option name=\"number\" value=\"00032\" />\r\n      <option name=\"presentableId\" value=\"LOCAL-00032\" />\r\n      <option name=\"project\" value=\"LOCAL\" />\r\n      <updated>1716203579159</updated>\r\n    </task>\r\n    <task id=\"LOCAL-00033\" summary=\"Пытаюсь подключить RedisLabs но получается с трудом (нет)\">\r\n      <option name=\"closed\" value=\"true\" />\r\n      <created>1716901599998</created>\r\n      <option name=\"number\" value=\"00033\" />\r\n      <option name=\"presentableId\" value=\"LOCAL-00033\" />\r\n      <option name=\"project\" value=\"LOCAL\" />\r\n      <updated>1716901599998</updated>\r\n    </task>\r\n    <task id=\"LOCAL-00034\" summary=\"Попытка через сигнал сделать рассылку о новом посте подвязав редис\">\r\n      <option name=\"closed\" value=\"true\" />\r\n      <created>1716905960363</created>\r\n      <option name=\"number\" value=\"00034\" />\r\n      <option name=\"presentableId\" value=\"LOCAL-00034\" />\r\n      <option name=\"project\" value=\"LOCAL\" />\r\n      <updated>1716905960363</updated>\r\n    </task>\r\n    <task id=\"LOCAL-00035\" summary=\"Попытка через сигнал сделать рассылку о новом посте подвязав редис\">\r\n      <option name=\"closed\" value=\"true\" />\r\n      <created>1716906529602</created>\r\n      <option name=\"number\" value=\"00035\" />\r\n      <option name=\"presentableId\" value=\"LOCAL-00035\" />\r\n      <option name=\"project\" value=\"LOCAL\" />\r\n      <updated>1716906529602</updated>\r\n    </task>\r\n    <task id=\"LOCAL-00036\" summary=\"Вроде как рабочее оповещение через таску\">\r\n      <option name=\"closed\" value=\"true\" />\r\n      <created>1717003622300</created>\r\n      <option name=\"number\" value=\"00036\" />\r\n      <option name=\"presentableId\" value=\"LOCAL-00036\" />\r\n      <option name=\"project\" value=\"LOCAL\" />\r\n      <updated>1717003622300</updated>\r\n    </task>\r\n    <task id=\"LOCAL-00037\" summary=\"Вроде как рабочее оповещение через таску + таска на еженедельную рассылку\">\r\n      <option name=\"closed\" value=\"true\" />\r\n      <created>1717007960346</created>\r\n      <option name=\"number\" value=\"00037\" />\r\n      <option name=\"presentableId\" value=\"LOCAL-00037\" />\r\n      <option name=\"project\" value=\"LOCAL\" />\r\n      <updated>1717007960346</updated>\r\n    </task>\r\n    <task id=\"LOCAL-00038\" summary=\"Добавлено 2 вариации рассылки при создании поста подписчикам категории 1 вариант через сигнал - рабочий, но почему то не отображает выполнение задачи в консоли Celery 2 вариант через form_valid функцию он работает исправно, то есть и отправляет сообщение и в консоли Celery видно что таска выполнена. &#10;Ну и еженедельная рассылка тоже добавлена как таска 7.5 задание выполнено\">\r\n      <option name=\"closed\" value=\"true\" />\r\n      <created>1717086180808</created>\r\n      <option name=\"number\" value=\"00038\" />\r\n      <option name=\"presentableId\" value=\"LOCAL-00038\" />\r\n      <option name=\"project\" value=\"LOCAL\" />\r\n      <updated>1717086180808</updated>\r\n    </task>\r\n    <task id=\"LOCAL-00039\" summary=\"D8 добавлено кэширование навбар кешировал в default.html на 300 секунд, главную страницу на 60 секунд, переопределил в views.py метод get_object и в models.py метод save() тем самым реализовал кеширование статьи до ее изменения\">\r\n      <option name=\"closed\" value=\"true\" />\r\n      <created>1717342788559</created>\r\n      <option name=\"number\" value=\"00039\" />\r\n      <option name=\"presentableId\" value=\"LOCAL-00039\" />\r\n      <option name=\"project\" value=\"LOCAL\" />\r\n      <updated>1717342788560</updated>\r\n    </task>\r\n    <task id=\"LOCAL-00040\" summary=\"Сделана команда categoryscratcher.py удаляющая все посты из определенной категории\">\r\n      <option name=\"closed\" value=\"true\" />\r\n      <created>1719419538887</created>\r\n      <option name=\"number\" value=\"00040\" />\r\n      <option name=\"presentableId\" value=\"LOCAL-00040\" />\r\n      <option name=\"project\" value=\"LOCAL\" />\r\n      <updated>1719419538887</updated>\r\n    </task>\r\n    <task id=\"LOCAL-00041\" summary=\"Сделана команда categoryscratcher.py удаляющая все посты из определенной категории\">\r\n      <option name=\"closed\" value=\"true\" />\r\n      <created>1719419590373</created>\r\n      <option name=\"number\" value=\"00041\" />\r\n      <option name=\"presentableId\" value=\"LOCAL-00041\" />\r\n      <option name=\"project\" value=\"LOCAL\" />\r\n      <updated>1719419590373</updated>\r\n    </task>\r\n    <task id=\"LOCAL-00042\" summary=\"Админка стала чуть более удобной\">\r\n      <option name=\"closed\" value=\"true\" />\r\n      <created>1719421964047</created>\r\n      <option name=\"number\" value=\"00042\" />\r\n      <option name=\"presentableId\" value=\"LOCAL-00042\" />\r\n      <option name=\"project\" value=\"LOCAL\" />\r\n      <updated>1719421964047</updated>\r\n    </task>\r\n    <task id=\"LOCAL-00043\" summary=\"Созданны копии бд не ломающие кодировку на xml и json\">\r\n      <option name=\"closed\" value=\"true\" />\r\n      <created>1719422699231</created>\r\n      <option name=\"number\" value=\"00043\" />\r\n      <option name=\"presentableId\" value=\"LOCAL-00043\" />\r\n      <option name=\"project\" value=\"LOCAL\" />\r\n      <updated>1719422699231</updated>\r\n    </task>\r\n    <task id=\"LOCAL-00044\" summary=\"Добавлено логгирование, файлы для логов, список админов для рассылке при ошибках предусмотренной логгированием\">\r\n      <option name=\"closed\" value=\"true\" />\r\n      <created>1726081297156</created>\r\n      <option name=\"number\" value=\"00044\" />\r\n      <option name=\"presentableId\" value=\"LOCAL-00044\" />\r\n      <option name=\"project\" value=\"LOCAL\" />\r\n      <updated>1726081297156</updated>\r\n    </task>\r\n    <task id=\"LOCAL-00045\" summary=\"Добавлены настройки локализатора и папка где файлы для него будут храниться\">\r\n      <option name=\"closed\" value=\"true\" />\r\n      <created>1726239838611</created>\r\n      <option name=\"number\" value=\"00045\" />\r\n      <option name=\"presentableId\" value=\"LOCAL-00045\" />\r\n      <option name=\"project\" value=\"LOCAL\" />\r\n      <updated>1726239838611</updated>\r\n    </task>\r\n    <task id=\"LOCAL-00046\" summary=\"Добавлены настройки локализатора и папка где файлы для него будут храниться\">\r\n      <option name=\"closed\" value=\"true\" />\r\n      <created>1726240007482</created>\r\n      <option name=\"number\" value=\"00046\" />\r\n      <option name=\"presentableId\" value=\"LOCAL-00046\" />\r\n      <option name=\"project\" value=\"LOCAL\" />\r\n      <updated>1726240007482</updated>\r\n    </task>\r\n    <task id=\"LOCAL-00047\" summary=\"Поправил ошибки в коде логгирования и сделал ру локализатор\">\r\n      <option name=\"closed\" value=\"true\" />\r\n      <created>1726337246515</created>\r\n      <option name=\"number\" value=\"00047\" />\r\n      <option name=\"presentableId\" value=\"LOCAL-00047\" />\r\n      <option name=\"project\" value=\"LOCAL\" />\r\n      <updated>1726337246515</updated>\r\n    </task>\r\n    <task id=\"LOCAL-00048\" summary=\"Поправил ошибки в коде логгирования и сделал ру локализатор\">\r\n      <option name=\"closed\" value=\"true\" />\r\n      <created>1726337657351</created>\r\n      <option name=\"number\" value=\"00048\" />\r\n      <option name=\"presentableId\" value=\"LOCAL-00048\" />\r\n      <option name=\"project\" value=\"LOCAL\" />\r\n      <updated>1726337657351</updated>\r\n    </task>\r\n    <option name=\"localTasksCounter\" value=\"49\" />\r\n    <servers />\r\n  </component>\r\n  <component name=\"VcsManagerConfiguration\">\r\n    <option name=\"ADD_EXTERNAL_FILES_SILENTLY\" value=\"true\" />\r\n    <MESSAGE value=\"Добавлена группа authors и common users. Новым пользователям зарегистрированным через почту присваивается группа common users. Группе authors выданы права post view, post add, post change, post delete. Ограничены по провам некоторые ссылки: в таблице Изменить и удалить; В navbar'е Create News Create Article. Эти ссылки будут видны только у пользователя принадлежащего к группе authors. &#10;Есть вопрос как присвоить кому то даже с группой authors, в модели Author потому что в группе authors несколько пользователей, но эти же пользователи не появились в модели Author и при создании нового поста даже с нового аккаунта я все равно могу поставить автором только изначальных двух, при том что создает ее уже совершенно новый пользователь.\" />\r\n    <MESSAGE value=\"Подключен пакет django-apscheduler, проведены миграции\" />\r\n    <MESSAGE value=\"Создана модель Подписок, в настройки добавлены строки настроек содединения почтового сервера яндекса, далее буду реализовывать отправку писем при регистрации, пользователю и подтверждение почты\" />\r\n    <MESSAGE value=\"Change models.py subscriber\" />\r\n    <MESSAGE value=\"Подтверждение почты при регистрации и кастомное сообщение к нему\" />\r\n    <MESSAGE value=\"Добавлен интерфейс подписок\" />\r\n    <MESSAGE value=\"Добавил у залогиненого пользователя в navbar кнопку подписки\" />\r\n    <MESSAGE value=\"Пробую добавить m2m_changed сигнал на создание нового поста\" />\r\n    <MESSAGE value=\"Инициализация runapscheduler.py понимаю как настроить переодичность, по пока не понимаю как сделать фильтрацию за неделю исключив прошлый посты\" />\r\n    <MESSAGE value=\"Сделан m2m_changed сигнал\" />\r\n    <MESSAGE value=\"Доделан runapscheduler.py\" />\r\n    <MESSAGE value=\"добавлен шаблон сообщения к runapscheduler\" />\r\n    <MESSAGE value=\"Пытаюсь подключить RedisLabs но получается с трудом (нет)\" />\r\n    <MESSAGE value=\"Попытка через сигнал сделать рассылку о новом посте подвязав редис\" />\r\n    <MESSAGE value=\"Вроде как рабочее оповещение через таску\" />\r\n    <MESSAGE value=\"Вроде как рабочее оповещение через таску + таска на еженедельную рассылку\" />\r\n    <MESSAGE value=\"Добавлено 2 вариации рассылки при создании поста подписчикам категории 1 вариант через сигнал - рабочий, но почему то не отображает выполнение задачи в консоли Celery 2 вариант через form_valid функцию он работает исправно, то есть и отправляет сообщение и в консоли Celery видно что таска выполнена. &#10;Ну и еженедельная рассылка тоже добавлена как таска 7.5 задание выполнено\" />\r\n    <MESSAGE value=\"D8 добавлено кэширование навбар кешировал в default.html на 300 секунд, главную страницу на 60 секунд, переопределил в views.py метод get_object и в models.py метод save() тем самым реализовал кеширование статьи до ее изменения\" />\r\n    <MESSAGE value=\"Сделана команда categoryscratcher.py удаляющая все посты из определенной категории\" />\r\n    <MESSAGE value=\"Админка стала чуть более удобной\" />\r\n    <MESSAGE value=\"Созданны копии бд не ломающие кодировку на xml и json\" />\r\n    <MESSAGE value=\"Добавлено логгирование, файлы для логов, список админов для рассылке при ошибках предусмотренной логгированием\" />\r\n    <MESSAGE value=\"Добавлены настройки локализатора и папка где файлы для него будут храниться\" />\r\n    <MESSAGE value=\"Поправил ошибки в коде логгирования и сделал ру локализатор\" />\r\n    <MESSAGE value=\"пытаемся локализовать админку\" />\r\n    <option name=\"LAST_COMMIT_MESSAGE\" value=\"пытаемся локализовать админку\" />\r\n  </component>\r\n</project>
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/.idea/workspace.xml b/.idea/workspace.xml
--- a/.idea/workspace.xml	(revision 44b8ff160b0436e3d490fa4fe1822841e73f6337)
+++ b/.idea/workspace.xml	(date 1726387021937)
@@ -4,7 +4,12 @@
     <option name="autoReloadType" value="SELECTIVE" />
   </component>
   <component name="ChangeListManager">
-    <list default="true" id="d0deffc4-fb07-42b6-bdb8-f1c7c46d25d2" name="Changes" comment="пытаемся локализовать админку" />
+    <list default="true" id="d0deffc4-fb07-42b6-bdb8-f1c7c46d25d2" name="Changes" comment="Пытаюсь локализовать админку">
+      <change beforePath="$PROJECT_DIR$/.idea/workspace.xml" beforeDir="false" afterPath="$PROJECT_DIR$/.idea/workspace.xml" afterDir="false" />
+      <change beforePath="$PROJECT_DIR$/NewsPaper/NewsPortal/models.py" beforeDir="false" afterPath="$PROJECT_DIR$/NewsPaper/NewsPortal/models.py" afterDir="false" />
+      <change beforePath="$PROJECT_DIR$/NewsPaper/locale/ru/LC_MESSAGES/django.mo" beforeDir="false" afterPath="$PROJECT_DIR$/NewsPaper/locale/ru/LC_MESSAGES/django.mo" afterDir="false" />
+      <change beforePath="$PROJECT_DIR$/NewsPaper/locale/ru/LC_MESSAGES/django.po" beforeDir="false" afterPath="$PROJECT_DIR$/NewsPaper/locale/ru/LC_MESSAGES/django.po" afterDir="false" />
+    </list>
     <option name="SHOW_DIALOG" value="false" />
     <option name="HIGHLIGHT_CONFLICTS" value="true" />
     <option name="HIGHLIGHT_NON_ACTIVE_CHANGELIST" value="false" />
@@ -20,6 +25,7 @@
   </component>
   <component name="Git.Settings">
     <option name="RECENT_GIT_ROOT_PATH" value="$PROJECT_DIR$" />
+    <option name="UPDATE_TYPE" value="REBASE" />
   </component>
   <component name="GitHubPullRequestSearchHistory">{
   &quot;lastFilter&quot;: {
@@ -78,22 +84,6 @@
       <option name="number" value="Default" />
       <option name="presentableId" value="Default" />
       <updated>1713127705117</updated>
-    </task>
-    <task id="LOCAL-00001" summary="initial commit">
-      <option name="closed" value="true" />
-      <created>1713591243925</created>
-      <option name="number" value="00001" />
-      <option name="presentableId" value="LOCAL-00001" />
-      <option name="project" value="LOCAL" />
-      <updated>1713591243925</updated>
-    </task>
-    <task id="LOCAL-00002" summary="initial commit">
-      <option name="closed" value="true" />
-      <created>1713591300066</created>
-      <option name="number" value="00002" />
-      <option name="presentableId" value="LOCAL-00002" />
-      <option name="project" value="LOCAL" />
-      <updated>1713591300066</updated>
     </task>
     <task id="LOCAL-00003" summary="initial commit">
       <option name="closed" value="true" />
@@ -463,12 +453,35 @@
       <option name="project" value="LOCAL" />
       <updated>1726337657351</updated>
     </task>
-    <option name="localTasksCounter" value="49" />
+    <task id="LOCAL-00049" summary="Пытаюсь локализовать админку">
+      <option name="closed" value="true" />
+      <created>1726383427059</created>
+      <option name="number" value="00049" />
+      <option name="presentableId" value="LOCAL-00049" />
+      <option name="project" value="LOCAL" />
+      <updated>1726383427059</updated>
+    </task>
+    <task id="LOCAL-00050" summary="Пытаюсь локализовать админку">
+      <option name="closed" value="true" />
+      <created>1726383548758</created>
+      <option name="number" value="00050" />
+      <option name="presentableId" value="LOCAL-00050" />
+      <option name="project" value="LOCAL" />
+      <updated>1726383548759</updated>
+    </task>
+    <task id="LOCAL-00051" summary="Пытаюсь локализовать админку">
+      <option name="closed" value="true" />
+      <created>1726383601094</created>
+      <option name="number" value="00051" />
+      <option name="presentableId" value="LOCAL-00051" />
+      <option name="project" value="LOCAL" />
+      <updated>1726383601094</updated>
+    </task>
+    <option name="localTasksCounter" value="52" />
     <servers />
   </component>
   <component name="VcsManagerConfiguration">
     <option name="ADD_EXTERNAL_FILES_SILENTLY" value="true" />
-    <MESSAGE value="Добавлена группа authors и common users. Новым пользователям зарегистрированным через почту присваивается группа common users. Группе authors выданы права post view, post add, post change, post delete. Ограничены по провам некоторые ссылки: в таблице Изменить и удалить; В navbar'е Create News Create Article. Эти ссылки будут видны только у пользователя принадлежащего к группе authors. &#10;Есть вопрос как присвоить кому то даже с группой authors, в модели Author потому что в группе authors несколько пользователей, но эти же пользователи не появились в модели Author и при создании нового поста даже с нового аккаунта я все равно могу поставить автором только изначальных двух, при том что создает ее уже совершенно новый пользователь." />
     <MESSAGE value="Подключен пакет django-apscheduler, проведены миграции" />
     <MESSAGE value="Создана модель Подписок, в настройки добавлены строки настроек содединения почтового сервера яндекса, далее буду реализовывать отправку писем при регистрации, пользователю и подтверждение почты" />
     <MESSAGE value="Change models.py subscriber" />
@@ -493,6 +506,7 @@
     <MESSAGE value="Добавлены настройки локализатора и папка где файлы для него будут храниться" />
     <MESSAGE value="Поправил ошибки в коде логгирования и сделал ру локализатор" />
     <MESSAGE value="пытаемся локализовать админку" />
-    <option name="LAST_COMMIT_MESSAGE" value="пытаемся локализовать админку" />
+    <MESSAGE value="Пытаюсь локализовать админку" />
+    <option name="LAST_COMMIT_MESSAGE" value="Пытаюсь локализовать админку" />
   </component>
 </project>
\ No newline at end of file
Index: NewsPaper/locale/ru/LC_MESSAGES/django.po
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+># SOME DESCRIPTIVE TITLE.\r\n# Copyright (C) YEAR THE PACKAGE'S COPYRIGHT HOLDER\r\n# This file is distributed under the same license as the PACKAGE package.\r\n# FIRST AUTHOR <EMAIL@ADDRESS>, YEAR.\r\n#\r\n#, fuzzy\r\nmsgid \"\"\r\nmsgstr \"\"\r\n\"Project-Id-Version: PACKAGE VERSION\\n\"\r\n\"Report-Msgid-Bugs-To: \\n\"\r\n\"POT-Creation-Date: 2024-09-15 09:47+0300\\n\"\r\n\"PO-Revision-Date: YEAR-MO-DA HO:MI+ZONE\\n\"\r\n\"Last-Translator: FULL NAME <EMAIL@ADDRESS>\\n\"\r\n\"Language-Team: LANGUAGE <LL@li.org>\\n\"\r\n\"Language: \\n\"\r\n\"MIME-Version: 1.0\\n\"\r\n\"Content-Type: text/plain; charset=UTF-8\\n\"\r\n\"Content-Transfer-Encoding: 8bit\\n\"\r\n\"Plural-Forms: nplurals=4; plural=(n%10==1 && n%100!=11 ? 0 : n%10>=2 && n\"\r\n\"%10<=4 && (n%100<12 || n%100>14) ? 1 : n%10==0 || (n%10>=5 && n%10<=9) || (n\"\r\n\"%100>=11 && n%100<=14)? 2 : 3);\\n\"\r\n\r\n#: .\\NewsPortal\\models.py:32\r\nmsgid \"category name\"\r\nmsgstr \"Название категории\"\r\n\r\n#: .\\NewsPortal\\models.py:39\r\nmsgid \"Author of the Post\"\r\nmsgstr \"Автор публикации\"\r\n\r\n#: .\\NewsPortal\\models.py:49\r\n#, fuzzy\r\n#| msgid \"category name\"\r\nmsgid \"Category name\"\r\nmsgstr \"Название категории\"\r\n\r\n#: .\\NewsPortal\\models.py:50\r\nmsgid \"Title of post\"\r\nmsgstr \"Заголовок публикаци\"\r\n\r\n#: .\\NewsPortal\\models.py:51\r\nmsgctxt \"help text for Post model\"\r\nmsgid \"This is the help text\"\r\nmsgstr \"Строка подсказка\"\r\n\r\n#: .\\templates\\account\\email\\email_confirmation_message.txt:5\r\n#, python-format\r\nmsgid \"\"\r\n\"Вы получили это сообщение, потому что пользователь %(user_display)s указал \"\r\n\"этот email при регистрации на сайте %(site_domain)s.\\n\"\r\n\"\\n\"\r\n\"Для подтверждения регистрации пройдите по ссылке %(activate_url)s\\n\"\r\n\"\\n\"\r\n\"Хорошего дня!\\n\"\r\nmsgstr \"\"\r\n
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/NewsPaper/locale/ru/LC_MESSAGES/django.po b/NewsPaper/locale/ru/LC_MESSAGES/django.po
--- a/NewsPaper/locale/ru/LC_MESSAGES/django.po	(revision 44b8ff160b0436e3d490fa4fe1822841e73f6337)
+++ b/NewsPaper/locale/ru/LC_MESSAGES/django.po	(date 1726387021941)
@@ -36,7 +36,7 @@
 
 #: .\NewsPortal\models.py:50
 msgid "Title of post"
-msgstr "Заголовок публикаци"
+msgstr "Заголовок публикации"
 
 #: .\NewsPortal\models.py:51
 msgctxt "help text for Post model"
Index: NewsPaper/locale/ru/LC_MESSAGES/django.mo
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>�\u0012\u0004�\u0000\u0000\u0000\u0000\u0005\u0000\u0000\u0000\u001C\u0000\u0000\u0000D\u0000\u0000\u0000\u0007\u0000\u0000\u0000l\u0000\u0000\u0000\u0000\u0000\u0000\u0000�\u0000\u0000\u0000\u0012\u0000\u0000\u0000�\u0000\u0000\u0000\r\u0000\u0000\u0000�\u0000\u0000\u0000\r\u0000\u0000\u0000�\u0000\u0000\u0000.\u0000\u0000\u0000�\u0000\u0000\u0000�\u0001\u0000\u0000�\u0000\u0000\u0000\u001F\u0000\u0000\u0000�\u0002\u0000\u0000%\u0000\u0000\u0000�\u0002\u0000\u0000#\u0000\u0000\u0000�\u0002\u0000\u0000\u001F\u0000\u0000\u0000\u001E\u0003\u0000\u0000\u0001\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0004\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0002\u0000\u0000\u0000\u0005\u0000\u0000\u0000\u0003\u0000\u0000\u0000\u0000Author of the Post\u0000Title of post\u0000category name\u0000help text for Post model\u0004This is the help text\u0000Project-Id-Version: PACKAGE VERSION\nReport-Msgid-Bugs-To: \nPO-Revision-Date: YEAR-MO-DA HO:MI+ZONE\nLast-Translator: FULL NAME <EMAIL@ADDRESS>\nLanguage-Team: LANGUAGE <LL@li.org>\nLanguage: \nMIME-Version: 1.0\nContent-Type: text/plain; charset=UTF-8\nContent-Transfer-Encoding: 8bit\nPlural-Forms: nplurals=4; plural=(n%10==1 && n%100!=11 ? 0 : n%10>=2 && n%10<=4 && (n%100<12 || n%100>14) ? 1 : n%10==0 || (n%10>=5 && n%10<=9) || (n%100>=11 && n%100<=14)? 2 : 3);\n\u0000Автор публикации\u0000Заголовок публикаци\u0000Название категории\u0000Строка подсказка\u0000
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/NewsPaper/locale/ru/LC_MESSAGES/django.mo b/NewsPaper/locale/ru/LC_MESSAGES/django.mo
--- a/NewsPaper/locale/ru/LC_MESSAGES/django.mo	(revision 44b8ff160b0436e3d490fa4fe1822841e73f6337)
+++ b/NewsPaper/locale/ru/LC_MESSAGES/django.mo	(date 1726387021941)
@@ -1,6 +1,6 @@
 ��          D      l       �      �   
    �   
-   �   .   �   �  �      �  %   �  #   �                               Author of the Post Title of post category name help text for Post modelThis is the help text Project-Id-Version: PACKAGE VERSION
+   �   .   �   �  �      �  '   �  #   �                                Author of the Post Title of post category name help text for Post modelThis is the help text Project-Id-Version: PACKAGE VERSION
 Report-Msgid-Bugs-To: 
 PO-Revision-Date: YEAR-MO-DA HO:MI+ZONE
 Last-Translator: FULL NAME <EMAIL@ADDRESS>
@@ -10,4 +10,4 @@
 Content-Type: text/plain; charset=UTF-8
 Content-Transfer-Encoding: 8bit
 Plural-Forms: nplurals=4; plural=(n%10==1 && n%100!=11 ? 0 : n%10>=2 && n%10<=4 && (n%100<12 || n%100>14) ? 1 : n%10==0 || (n%10>=5 && n%10<=9) || (n%100>=11 && n%100<=14)? 2 : 3);
- Автор публикации Заголовок публикаци Название категории Строка подсказка 
\ No newline at end of file
+ Автор публикации Заголовок публикации Название категории Строка подсказка 
\ No newline at end of file
Index: NewsPaper/NewsPortal/models.py
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>from django.contrib.auth.models import User\r\nfrom django.core.cache import cache\r\nfrom django.db import models\r\nfrom django.db.models import Sum\r\nfrom django.urls import reverse\r\nfrom django.utils.translation import gettext as _\r\nfrom django.utils.translation import pgettext_lazy\r\n\r\n\r\n# Create your models here.\r\nclass Author(models.Model):\r\n    Author_to_user = models.OneToOneField(User, on_delete=models.CASCADE)\r\n    ratingAuthor = models.SmallIntegerField(default=0)\r\n    \r\n    def update_rating(self):\r\n        postRate = self.post_set.aggregate(postRating=Sum('rating'))\r\n        pRate = 0\r\n        pRate += postRate.get('postRating')\r\n        \r\n        commentRate = self.Author_to_user.comment_set.aggregate(commentRating=Sum('rating'))\r\n        cRate = 0\r\n        cRate += commentRate.get('commentRating')\r\n        \r\n        self.ratingAuthor = pRate * 3 + cRate\r\n        self.save()\r\n    \r\n    def __str__(self):\r\n        return self.Author_to_user.username\r\n\r\n\r\nclass Category(models.Model):\r\n    name = models.CharField(max_length=64, unique=True, help_text=_('category name'))\r\n    \r\n    def __str__(self):\r\n        return self.name\r\n\r\n\r\nclass Post(models.Model):\r\n    author = models.ForeignKey(Author, on_delete=models.CASCADE, help_text=_('Author of the Post'))\r\n    \r\n    NEWS = 'NW'\r\n    ARTICLE = 'AR'\r\n    CATEGORY_CHOICES = (\r\n        (NEWS, 'Новость'),\r\n        (ARTICLE, 'Статья'),\r\n    )\r\n    category_type = models.CharField(max_length=2, choices=CATEGORY_CHOICES, default=ARTICLE)\r\n    dateCreation = models.DateTimeField(auto_now_add=True)\r\n    postCategory = models.ManyToManyField(Category, through='PostCategory', help_text=_('Category name'))\r\n    title = models.CharField(max_length=128, help_text=_('Title of post'))\r\n    text = models.TextField(verbose_name=pgettext_lazy('help text for Post model', 'This is the help text'))\r\n    rating = models.SmallIntegerField(default=0)\r\n    \r\n    def like(self):\r\n        self.rating += 1\r\n        self.save()\r\n    \r\n    def dislike(self):\r\n        self.rating -= 1\r\n        self.save()\r\n    \r\n    def preview(self):\r\n        return self.text[0:123] + '...'\r\n    \r\n    def __str__(self):\r\n        return f'{self.title.title()}'\r\n    \r\n    def get_absolute_url(self):\r\n        return reverse('news_detail', args=[str(self.id)])\r\n    \r\n    def save(self, *args, **kwargs):\r\n        super().save(*args, **kwargs)\r\n        cache.delete(f'post-{self.pk}')\r\n\r\n\r\nclass PostCategory(models.Model):\r\n    post = models.ForeignKey(Post, on_delete=models.CASCADE)\r\n    category = models.ForeignKey(Category, on_delete=models.CASCADE)\r\n\r\n\r\nclass Comment(models.Model):\r\n    commentPost = models.ForeignKey(Post, on_delete=models.CASCADE)\r\n    commentUser = models.ForeignKey(User, on_delete=models.CASCADE)\r\n    text = models.TextField()\r\n    dateCreation = models.DateTimeField(auto_now_add=True)\r\n    rating = models.SmallIntegerField(default=0)\r\n    \r\n    def like(self):\r\n        self.rating += 1\r\n        self.save()\r\n    \r\n    def dislike(self):\r\n        self.rating -= 1\r\n        self.save()\r\n\r\n\r\nclass Subscriber(models.Model):\r\n    user = models.ForeignKey(\r\n        to=User,\r\n        on_delete=models.CASCADE,\r\n        related_name='subscriptions',\r\n    )\r\n    \r\n    category = models.ForeignKey(\r\n        to='Category',\r\n        on_delete=models.CASCADE,\r\n        related_name='subscriptions',\r\n        \r\n    )\r\n
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/NewsPaper/NewsPortal/models.py b/NewsPaper/NewsPortal/models.py
--- a/NewsPaper/NewsPortal/models.py	(revision 44b8ff160b0436e3d490fa4fe1822841e73f6337)
+++ b/NewsPaper/NewsPortal/models.py	(date 1726387021941)
@@ -105,5 +105,4 @@
         to='Category',
         on_delete=models.CASCADE,
         related_name='subscriptions',
-        
     )
